<title>Place Input</title>
<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places"></script>
<script type="text/javascript">
  import {style} from 'easy-style'
  import {App,JSX} from 'mana'
  import Input from './index'

  const className = style({
    fontFamily: 'sans-serif',
    margin: '100px auto',
    width: '500px',
    '> input': {
      borderRadius: '3px',
      fontSize: '18px'
    },
    '> ul': {
      width: 'auto',
      left: '3px',
      right: '3px',
      border: '1px solid rgb(190, 190, 190)',
      borderTop: 'none',
      borderBottom: 'none',
      borderRadius: '0 0 3px 3px',
      overflow: 'hidden',
      '> li': {
        borderBottom: '1px solid rgb(190, 190, 190)'
      }
    }
  })

  const app = new App({}, cursor => {
    return <Input center={{lat: -37.77, lng: 175.26}}
                  autofocus={true}
                  country='nz'
                  className
                  cursor/>
  })

  app.cursor.addListener((next, prev) => {
    prev = prev.location
    next = next.location
    if (prev == next) return
    Promise.resolve(next).then(location => console.log(location))
  })

  window.onload = () => app.mountIn(document.body)
</script>
